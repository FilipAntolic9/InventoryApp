@model InventoryApp.Web.ViewModels.ProductListVm
@{
    ViewData["Title"] = "Products";
}

<h1>Products</h1>
<form method="get" asp-action="Index">
    <input type="text" name="search" value="@Model.Search" placeholder="Search..." />
    <button type="submit">Search</button>
</form>
<table>
    <thead><tr><th>Code</th><th>Name</th><th>Price</th><th></th></tr></thead>
    <tbody>
    @foreach(var p in Model.Products) {
        <tr>
            <td>@p.Code</td>
            <td>@p.Name</td>
            <td>@p.Price</td>
            <td>
                <a asp-action="Edit" asp-route-id="@p.Id">Edit</a>
                <form asp-action="Delete" asp-route-id="@p.Id" method="post" style="display:inline">
                    <button type="submit">Delete</button>
                </form>
            </td>
        </tr>
    }
    </tbody>
</table>
<div>
    @for(int i = 1; i <= Model.TotalPages; i++) {
        <a asp-action="Index" asp-route-page="@i" asp-route-search="@Model.Search">@i</a>
    }
</div>
<a asp-action="Edit" asp-route-id="Guid.Empty">Create New</a>
